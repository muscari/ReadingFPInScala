### chapter.1
#### 関数型プログラミングとは

##### 純粋関数とは
副作用のない関数のこと

##### 副作用とは
例として以下が与えられていた.
 - 変数を変更する
 - データ構造を直接変更する
 - オブジェクトのフィールドを設定する
 - 例外をスローする、またはエラーで停止する
 - コンソールに出力する、またはユーザー入力を読み取る
 - ファイルを読み取る、またはファイルに書き込む
 - 画面上に描画する

   ### これって何も作れなくない？？？
   本を読み進めていけばすべてのプログラムを副作用なしで表現する方法がわかるらしい。

##### モジュール性
 - 純粋関数を利用することでモジュール性は向上する
 - メリット - 以下が容易になる
   - テスト
   - 再利用性
   - 並列化
   - 一般化
   - 推論

#### 関数型プログラミングの利点
例として副作用のあるプログラミングから副作用を排除する方法があげられている。
```scala
// 副作用あり
class Cafe {
  def buyCoffee(cc: CreditCard): Coffee = {
    val cup = new Coffee()
    cc.charge(cup.price)
    cup
  }
}

// 副作用なし
class Cafe {
  def buyCoffee(cc: CreditCard): (Coffee, Charge) = {
    val cup = new Coffee()
      (cup, Charge(cc, cup.price))
  }
}
```
- 副作用あり:
  - 関数内でUnitを返すような処理を呼んでいることが**副作用がある**と解釈

- 副作用なし:
  - チャージを値として返すように修正
  - チャージ値は別システムでクレジットカード会社へ送信するために利用する
  - buyCoffee関数の再利用性があがる

##### 純粋関数例
  - Stringのlength関数: 与えられた文字列に対し常に同じ長さを返すだけ。それ以外は何もしない。
  - 整数の加算(+)関数: 整数値2つを受け取り、整数値1つを返す。それ以外は何もしない。

      ** それ以外はなにもしない。要するにInputに対し期待するOutput以外は何もしない関数こそが至高ということ。**

#### 参照透過性、純粋性

> ##### 参照透過性と純粋性
>
> 式eがあり、すべてのプログラムpにおいて、pの意味に影響を与えることなく、p内のすべてのeをeの評価結果と置き換えることができるとしたら、eは参照透過といえる。
> 
> 関数があり、式f(x)が参照透過なすべてのxに対し参照透過であるとしたらfは純粋関数といえる。

##### 参照透過とは
2 + 3 が 5 であるという自明のことを扱うこと？

2 + 3 は 5 で置き換えても問題ないだろ！

つまり(式)を(結果)で置き換えても問題ないだろ！といえる。
** (前提)副作用がなければ **

ここまでで**参照透過性**は関数が実行するすべてのことが**戻り値**によって表現されるといってもよい。

#### まとめ
- 関数型プログラミングとは副作用のない関数でプログラムする
- 余計なことは何もせず参照透過性に注意して関数を作る
- 結果、プログラムの推論が容易になり、モジュール性が向上する


なんだかいいことづくめだ
